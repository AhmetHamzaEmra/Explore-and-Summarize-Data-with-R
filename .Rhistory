c(2004,2009,2011,2012,2014))
ggplot(aes(x=age,y=friend_count),data=pf)+
geom_line(aes(color=year_joined.bucket),stat="summary",fun.y=median)
ggplot(aes(x=age,y=friend_count),data=pf)+
geom_line(aes(color=year_joined.bucket),stat="summary",fun.y=median)
ggplot(aes(x=age,y=friend_count),data=pf)+
geom_line(aes(color=year_joined.bucket),stat="summary",fun.y=mean)+
geom_line(stat="summar", fun.y=mean,type=2)
ggplot(aes(x=age,y=friend_count),data=pf)+
geom_line(aes(color=year_joined.bucket),stat="summary",fun.y=mean)+
geom_line(stat="summary", fun.y=mean,type=2)
ggplot(aes(x=age,y=friend_count),data=pf)+
geom_line(aes(color=year_joined.bucket),stat="summary",fun.y=mean)+
geom_line(stat="summary", fun.y=mean,linetype=2)
with(subset(pf,tenture>=1),summary(friend_count/tenure))
with(subset(pf,tenure>=1),summary(friend_count/tenure))
ggplot(aes(x=tenure,y=friendship_initiated/tenure),subset(pf,tenure>=1))+
geom_line(aes(color=year_joined.bucket))
aes
aes
ggplot(aes(x=tenure,y=friendship_initiated/tenure),subset(pf,tenure>=1))+
geom_line(aes(color=year_joined.bucket))
ggplot(aes(x=tenure,y=friendship_initiated/tenure),subset(pf,tenure>=1))+
geom_line(aes(color=year_joined.bucket))
ggplot(aes(x=tenure , y=friendship_initiated/tenure) , subset(pf,tenure>=1))+
geom_line(aes(color=year_joined.bucket))
ggplot(aes(x=tenure , y=friendship_initiated/tenure) , data=subset(pf,tenure>=1))+
geom_line(aes(color=year_joined.bucket))
ggplot(aes(x=tenure , y=friendships_initiated/tenure) , data=subset(pf,tenure>=1))+
geom_line(aes(color=year_joined.bucket))
ggplot(aes(x = tenure, y = friendships_initiated / tenure),
data = subset(pf, tenure >= 1)) +
geom_line(aes(color = year_joined.bucket),
stat = 'summary',
fun.y = mean)
ggplot(aes(x = 7 * round(tenure / 7), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 30 * round(tenure / 30), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 90 * round(tenure / 90), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x=tenure , y=friendships_initiated/tenure) , data=subset(pf,tenure>=1))+
geom_smooth(aes(color=year_joined.bucket))
pf<-read.csv('yogurt')
pf<-read.csv('yogurt')
pf<-read.csv('yogurt.csv')
View(pf)
str(pf)
summary(pf)
pf$id<factor(pf$id)
str(pf)
pf$id<-factor(pf$id)
str(pf)
ggplot(aes(x=price),data=pf)+geom_bar()
ggplot(aes(x=price),data=pf)+geom_histogram()
ggplot(aes(x=price),data=pf)+geom_histogram(bins = 30)
ggplot(aes(x=price),data=pf)+geom_histogram(bins = 10)
pf<- transform(yo, all.purchases=strawberry,blueberry,
pina.colada,plain,
mixed.berry)
pf<- transform(yo, all.purchases=strawberry,blueberry,
pina.colada,plain,
mixed.berry)
pf<- transform(pf, all.purchases=strawberry,blueberry,
pina.colada,plain,
mixed.berry)
ggplot(aes(x=all.purchases),data=pf)+geom_histogram()
ggplot(aes(x=all.purchases),data=pf)+geom_histogram(bins=10)
ggplot(aes(x=all.purchases),data=pf)+geom_histogram(bins=15)
ggplot(aes(x=all.purchases),data=pf)+geom_histogram(bins=10)
ggplot(aes(x=time,y=price),data=pf)+
geom_jitter(alpha=1/4,shape=21,fill=I("#F79420"))
ggplot(aes(x=time,y=price),data=pf)+
geom_jitter(alpha=1/4,shape=21,fill=I("#F79420"))
ggplot(aes(x=all.purchases),data=pf)+geom_histogram(bins=10)
set.seed(4230)
sample.ids<-sample(levels(pf$id),16)
ggplot(aes(x=time,y=price),subset(pf,id %in% sample.ids))+
facet_wrap(~id)+
geom_line()+
geom_point(aes(size=all.purchases),pch=1)
ggplot(aes(x=time,y=price),data=subset(pf,id %in% sample.ids))+
facet_wrap(~id)+
geom_line()+
geom_point(aes(size=all.purchases),pch=1)
ggplot(aes(x=time,y=price),data=subset(pf,id %in% sample.ids))+
facet_wrap(~id)+
geom_line()+
geom_point(aes(size=all.purchases),pch=1)
set.seed(4530)
sample.ids<-sample(levels(pf$id),16)
ggplot(aes(x=time,y=price),data=subset(pf,id %in% sample.ids))+
facet_wrap(~id)+
geom_line()+
geom_point(aes(size=all.purchases),pch=1)
library(ggplot2)
data(diamonds)
di<-data(diamonds)
library(ggplot2)
di<-data(diamonds)
summary(diamonds)
length(diamonds)
length(diamonds)
str(diamonds)
levels(diamonds$color)
?diamonds
library(ggthemes)
di<-diamonds
ggplot(aes(x=price/carat),data=diamonds)+
geom_histogram(binwidth = 10)+
scale_x_continuous(limits=c(0,15000))+
facet_wrap(~cut)+
theme_solarized(light = FALSE)+
scale_color_solarized('red')
by(diamonds$price, diamonds$cut,summary)
ggplot(aes(x=price),data=subset(diamonds, !is.na(diamonds$price)))+
geom_boxplot()
ggplot(aes(x=price),data=di)+
geom_histogram(aes(x=color))
View(diamonds)
ggplot(aes(x=price),data=di)+
geom_histogram(aes(color=color), stat = 'summary')
ggplot(aes(x=price),data=di)+
geom_histogram(aes(color=color), stat = 'summary', bins=20)
ggplot(aes(x=price),data=di)+
geom_histogram(aes(color=color), stat = 'summary', bins=20)+
facet_wrap(~color)
ggplot(aes(x=price),data=di)+
geom_histogram()+
facet_wrap(~color)
ggplot(aes(x=price),data=di)+
geom_histogram(color=cut)+
facet_wrap(~color)
ggplot(aes(x=price),data=di)+
geom_histogram(aes(color=cut), stat="summary")+
facet_wrap(~color)
ggplot(aes(x=price),data=di)+
geom_histogram(aes(fill=cut), stat="summary")+
facet_wrap(~color)
ggplot(aes(x=price),data=di)+
geom_histogram(aes(fill=cut), stat="summary")+
facet_wrap(~color)+
scale_fill_brewer(palette = 'Spectral')
ggplot(aes(x=log(price)),data=di)+
geom_histogram(aes(fill=cut), stat="summary")+
facet_wrap(~color)+
scale_fill_brewer(palette = 'Spectral')
ggplot(data=diamonds, aes(x=log(price))) + geom_histogram(aes(fill = cut)) +
facet_wrap(~color) +
scale_fill_brewer(palette="Spectral")
ggplot(aes(x=log(price)),data=di)+
geom_histogram(aes(fill=cut))+
facet_wrap(~color)+
scale_fill_brewer(palette = 'Spectral')
ggplot(data=diamonds, aes(x=log(price))) + geom_histogram(aes(fill = cut)) +
facet_wrap(~color) +
scale_fill_brewer(palette="Spectral")
View(diamonds)
ggplot(aes(x=price,y=table),data=diamonds)+
geom_point(aes(color=cut))+
scale_color_brewer(type= 'qual')
ggplot(aes(x=table,y=price),data=diamonds)+
geom_point(aes(color=cut))+
scale_color_brewer(type= 'qual')
di$volume<-di$x*di$y*di$z
View(di)
View(di)
ggplot(aes(x=log10(price),y=volume),data=di)+
geom_point(aes(color=clarty))+
scale_color_brewer(type='qual')
View(pf)
View(di)
ggplot(aes(x=log10(price),y=volume),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='qual')
ggplot(aes(x=log10(price),y=volume),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')
library(ggplot2)
library(ggthemes)
pf<-read.csv('pseudo_facebook.tsv', sep='\t')
ggplot(aes(x=age, y=friend_count),data=pf)+
geom_point(color='red', alpha=1/20,position = position_jitter(h=0))
ggplot(aes(x=age, y=friend_count),data=pf)+
geom_point(alpha=1/20,color='red')+xlim(13,90)+
coord_trans(y='sqrt')+
theme_solarized(light = FALSE)+
scale_color_solarized('red')
ggplot(aes(x=age,y=friendships_initiated),data=pf)+
geom_point(alpha=1/10, position = position_jitter(h=0))+
coord_trans(y='sqrt')
library(dplyr)
age_group<-group_by(pf,age)
pf.fc_by_age<-summarise(age_group,friend_count_mean=mean(friend_count),friend_count_median=median(friend_count),n=n())
pf.fc_by_age<-arrange(pf.fc_by_age,age)
head(pf.fc_by_age)
ggplot(aes(x=age,y=friend_count_mean), data=pf.fc_by_age)+
geom_line()
ggplot(aes(x=age, y=friend_count),data=pf)+
geom_point(alpha=1/20,color='orange')+xlim(13,90)+
coord_trans(y='sqrt')+
coord_trans(y='sqrt')+
geom_line(stat='summary', fun.y=mean)+
geom_line(stat='summary',
fun.y=quantile , fun.args=list(probs=0.1),
linetype=2 ,color='blue')+
geom_line(stat='summary',
fun.y=quantile , fun.args=list(probs=0.9),
linetype=2 ,color='blue')+
geom_line(stat='summary',
fun.y=quantile , fun.args=list(probs=0.5),
linetype=2 ,color='blue')
ggplot(aes(x=age, y=friend_count),data=pf)+
geom_point(alpha=1/20,color='orange')+
coord_cartesian(xlim=c(13,70),ylim=c(0,1000))+
geom_line(stat='summary', fun.y=mean)+
geom_line(stat='summary',
fun.y=quantile , fun.args=list(probs=0.1),
linetype=2 ,color='blue')+
geom_line(stat='summary',
fun.y=quantile , fun.args=list(probs=0.9),
linetype=2 ,color='blue')+
geom_line(stat='summary',
fun.y=quantile , fun.args=list(probs=0.5),
linetype=2 ,color='blue')
cor.test(pf$age,pf$friend_count,method = 'pearson')
with(subset(pf,age<=70),cor.test(age,friend_count, method = 'pearson'))
with(subset(pf,age<=70),cor.test(age,friend_count, method = 'spearman'))
with(pf, cor.test(www_likes_received,likes_received,  method = 'pearson'))
ggplot(aes(x=www_likes_received,y=likes_received),data=pf)+
geom_point()+
xlim(0,quantile(pf$www_likes_received,0.95))+
ylim(0,quantile(pf$likes_received,0.95))+
geom_smooth(method = 'lm',color='red')
with(pf, cor.test(www_likes_received, y=likes_received), method='pearson')
library(alr3)
data(Mitchell)
ggplot(aes(x=Month,y=Temp), data=Mitchell)+
geom_line()+scale_x_continuous(breaks =seq(0,203,12))
with(Mitchell,cor.test(Month,Temp))
ggplot(aes(x=age,y=friend_count_mean), data=pf.fc_by_age)+geom_line()
pf$age_with_months <-pf$age+(1-pf$dob_month/12)
library(dplyr)
age_groups <- group_by(pf, age)
pf.fc_by_age <- summarise(age_groups,
friend_count_mean = mean(friend_count),
friend_count_median = median(friend_count),
n = n())
pf.fc_by_age <- arrange(pf.fc_by_age, age)
ggplot(aes(x=age_with_months,y=friend_count_mean), data=subset(pf.fc_by_age,age_with_months<71))+
geom_line()
head(pf.fc_by_age)
library(gridExtra)
grid.arrange(p1,p2)
ggplot(aes(x=log10(price),y=volume),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
ylim(0,quantile(pf$likes_received,0.99))+
ggplot(aes(x=log10(price),y=volume),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
ylim(0,quantile(di$volume,0.99))+
ggplot(aes(x=log10(price),y=volume),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
ylim(0,quantile(di$volume,0.99))
ggplot(aes(x=log10(price),y=volume),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
ylim(0,quantile(di$volume,0.99))
ggplot(aes(x=volume,y=log10(price)),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
ylim(0,quantile(di$volume,0.99))
vo
ggplot(aes(x=volume,y=log10(price)),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
xlim(0,quantile(di$volume,0.99))
ggplot(aes(x=volume,y=(price)),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
xlim(0,quantile(di$volume,0.99))
ggplot(aes(x=volume,y=log(price)),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
xlim(0,quantile(di$volume,0.99))
ggplot(aes(x=volume,y=(price)),data=di)+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
xlim(0,quantile(di$volume,0.99))+
scale_y_log10()
ggplot(aes(x=volume,y=(price)),data=subset(di, di$volume!=0))+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
xlim(0,quantile(di$volume,0.99))+
scale_y_log10()
ggplot(aes(x =gender , y = age),
data = subset(pf, !is.na(gender))) + geom_boxplot()
library(ggplot2)
ggplot(aes(x =gender , y = age),
data = subset(pf, !is.na(gender))) + geom_boxplot()
install.packages("GGally")
install.packages("GGally")
library(GGally)
theme_set(theme_minimal(20))
library(ggthemes)
theme_set(theme_minimal(20))
theme_set(theme_minimal(20))
library(GGally)
library(ggthemes)
theme_set(theme_minimal(20))
pd<- read.csv('facebook', sep = '\t')
head(pd)
pd<- read.csv('facebook', sep = '\t')
pd<- read.csv('facebook.tsv', sep = '\t')
head(pd)
pf<- read.csv('facebook.tsv', sep = '\t')
head(pf)
str(pf)
pf$prop_initiated <- with(pf, 1-((friend_count-friendships_initiated)/friend_count))
pf$prop_initiated <- ifelse(is.na(pf$prop_initiated), 0, pf$prop_initiated)
pf$prop_initiated <- with(pf, 1-((friend_count-friendships_initiated)/friend_count))
pf$prop_initiated <- ifelse(is.na(pf$prop_initiated), 0, pf$prop_initiated)
summary(prop_initiated)
summary(pf$prop_initiated)
View(pf)
pf$year_joined.bucket<-cut(pf$year_joined,
c(2004,2009,2011,2012,2014))
pf$year_joined<- floor(2014-pf$tenure/365)
pf$year_joined.bucket<-cut(pf$year_joined,
c(2004,2009,2011,2012,2014))
ggplot(aes(x=tenure,y=prop_initiated),data=pf)+
geom_line(aes(color=year_joined.bucket))
library(ggplot2)
di<-data(diamonds)
summary(diamonds)
length(diamonds)
str(diamonds)
levels(diamonds$color)
?diamonds
di<-diamonds
library(ggthemes)
ggplot(aes(x=price/carat),data=diamonds)+
geom_histogram(binwidth = 10)+
scale_x_continuous(limits=c(0,15000))+
facet_wrap(~cut)+
theme_solarized(light = FALSE)+
scale_color_solarized('red')
by(diamonds$price, diamonds$cut,summary)
ggplot(aes(x=price),data=subset(diamonds, !is.na(diamonds$price)))+
geom_boxplot()
ggplot(aes(x=log(price)),data=di)+
geom_histogram(aes(fill=cut))+
facet_wrap(~color)+
scale_fill_brewer(palette = 'Spectral')
ggplot(data=diamonds, aes(x=log(price))) + geom_histogram(aes(fill = cut)) +
facet_wrap(~color) +
scale_fill_brewer(palette="Spectral")
ggplot(aes(x=table,y=price),data=diamonds)+
geom_point(aes(color=cut))+
scale_color_brewer(type= 'qual')
di$volume<-di$x*di$y*di$z
ggplot(aes(x=volume,y=(price)),data=subset(di, di$volume!=0))+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
xlim(0,quantile(di$volume,0.99))+
scale_y_log10()
pf<- read.csv('facebook.tsv', sep = '\t')
str(pf)
pf$prop_initiated <- with(pf, 1-((friend_count-friendships_initiated)/friend_count))
pf$prop_initiated <- ifelse(is.na(pf$prop_initiated), 0, pf$prop_initiated)
summary(pf$prop_initiated)
pf$year_joined<- floor(2014-pf$tenure/365)
pf$year_joined.bucket<-cut(pf$year_joined,
c(2004,2009,2011,2012,2014))
ggplot(aes(x=tenure,y=prop_initiated),data=pf)+
geom_line(aes(color=year_joined.bucket))
ggplot(aes(x=tenure,y=prop_initiated),data=pf)+
geom_line(aes(color=year_joined.bucket),fun.y=median)
ggplot(aes(x=tenure,y=prop_initiated),data=pf)+
geom_line(aes(color=year_joined.bucket),fun.y="median")
ggplot(aes(x=tenure,y=prop_initiated),data=pf)+
geom_line(aes(color=year_joined.bucket),stat='summary',fun.y=median)
ggplot(aes(x=tenure,y=prop_initiated),data=subset(pf,!is.na(tenure))+
geom_line(aes(color=year_joined.bucket),stat='summary',fun.y=median)
ggplot(aes(x=tenure,y=prop_initiated),data=subset(pf,!is.na(pf$tenure))+
geom_line(aes(color=year_joined.bucket),stat='summary',fun.y=median)
ggplot(aes(x=tenure,y=prop_initiated),data=subset(pf,!is.na(pf$tenure)))+
geom_line(aes(color=year_joined.bucket),stat='summary',fun.y=median)
library(ggplot2)
di<-data(diamonds)
summary(diamonds)
length(diamonds)
str(diamonds)
levels(diamonds$color)
?diamonds
library(ggthemes)
ggplot(aes(x=price/carat),data=diamonds)+
geom_histogram(binwidth = 10)+
scale_x_continuous(limits=c(0,15000))+
facet_wrap(~cut)+
theme_solarized(light = FALSE)+
scale_color_solarized('red')
di<-diamonds
by(diamonds$price, diamonds$cut,summary)
ggplot(aes(x=price),data=subset(diamonds, !is.na(diamonds$price)))+
geom_boxplot()
ggplot(aes(x=log(price)),data=di)+
geom_histogram(aes(fill=cut))+
facet_wrap(~color)+
scale_fill_brewer(palette = 'Spectral')
ggplot(data=diamonds, aes(x=log(price))) + geom_histogram(aes(fill = cut)) +
facet_wrap(~color) +
scale_fill_brewer(palette="Spectral")
ggplot(aes(x=table,y=price),data=diamonds)+
geom_point(aes(color=cut))+
scale_color_brewer(type= 'qual')
di$volume<-di$x*di$y*di$z
ggplot(aes(x=volume,y=(price)),data=subset(di, di$volume!=0))+
geom_point(aes(color=clarity))+
scale_color_brewer(type='div')+
xlim(0,quantile(di$volume,0.99))+
scale_y_log10()
pf<- read.csv('facebook.tsv', sep = '\t')
str(pf)
pf$prop_initiated <- with(pf, 1-((friend_count-friendships_initiated)/friend_count))
pf$prop_initiated <- ifelse(is.na(pf$prop_initiated), 0, pf$prop_initiated)
summary(pf$prop_initiated)
pf$year_joined<- floor(2014-pf$tenure/365)
pf$year_joined.bucket<-cut(pf$year_joined,
c(2004,2009,2011,2012,2014))
ggplot(aes(x=tenure,y=prop_initiated),data=subset(pf,!is.na(pf$tenure)))+
geom_line(aes(color=year_joined.bucket),stat='summary',fun.y=median)
ggplot(aes(x=tenure,y=prop_initiated),data=subset(pf,!is.na(pf$tenure)))+
geom_line(aes(color=year_joined.bucket),stat='summary',fun.y=median)+
geom_smooth()
ggplot(aes(x=cut,y=carat),data=fi)+
geom_point()
ggplot(aes(x=cut,y=carat),data=di)+
geom_point()
ggplot(aes(x=cut,y=price),data=di)+
geom_point()
ggplot(aes(x=cut,y=price/carat),data=di)+
geom_point()
ggplot(aes(x=cut,y=price/carat),data=di)+
geom_point(aes(color=color))+
scale_color_brewer(type='div')
View(di)
ggplot(aes(x=cut,y=price/carat),data=di)+
geom_point(aes(color=color))+
scale_color_brewer(type='div')+
facet_wrap(~clarity)
ggplot(aes(x=cut,y=price/carat),data=di)+
geom_jitter(aes(color=color))+
scale_color_brewer(type='div')+
facet_wrap(~clarity)
library(ggplot2)
data("diamonds")
ggplot(data=diamonds,aes(x=carat, y=price))+
geom_point()
ggplot(data=diamonds,aes(x=carat, y=price))+
xlim(c(0,quantile(diamonds$carat,0.99)))+
ylim(c(0,quantile(diamonds$price,0.99)))+
geom_point(fill=I("#F79420"),color=I('black',shape=21))
ggplot(data=diamonds,aes(x=carat, y=price))+
xlim(c(0,quantile(diamonds$carat,0.99)))+
ylim(c(0,quantile(diamonds$price,0.99)))+
geom_point(fill=I("#F79420"),color=I('black'),shape=21)
ggplot(data=diamonds,aes(x=carat, y=price))+
scale_x_continuous(lim=c(0,quantile(diamonds$carat,0.99)))+
scale_y_continuous(lim=c(0,quantile(diamonds$price,0.99)))+
geom_point(fill=I("#F79420"),color=I('black'),shape=21)
ggplot(data=diamonds,aes(x=carat, y=price))+
scale_x_continuous(lim=c(0,quantile(diamonds$carat,0.99)))+
scale_y_continuous(lim=c(0,quantile(diamonds$price,0.99)))+
geom_smooth(method = 'lm')+
geom_point(fill=I("#F79420"),color=I('black'),shape=21)
install.packages('GGally')
install.packages('scales')
install.packages("scales")
install.packages('memisc')
install.packages('lattice')
install.packages('MASS')
install.packages('car')
install.packages('reshape')
install.packages('plyr')
library(ggplot2)
library(GGally)
library(scales)
library(memisc)
set.seed(20022012)
diamond_samp <- diamonds[sample(1:length(diamonds$price), 10000), ]
ggpairs(diamond_samp,
lower = list(continuous = wrap("points", shape = I('.'))),
upper = list(combo = wrap("box", outlier.shape = I('.'))))
library(GGally)
install.packages('GGally')
library(ggplot2)
library(GGally)
library(GGally)
library(ggplot2)
library(ggplot2)
