TITLE by YOUR_NAME_HERE
========================================================
Over 370000 used cars scraped with Scrapy from Ebay-Kleinanzeigen. The content of the data is in german, so one has to translate it first if one can not speak german. Those fields are included:

dateCrawled : when this ad was first crawled, all field-values are taken from this date

name : "name" of the car

seller : private or dealer

offerType

price : the price on the ad to sell the car

abtest

vehicleType

yearOfRegistration : at which year the car was first registered

gearbox

powerPS : power of the car in PS

model

kilometer : how many kilometers the car has driven

monthOfRegistration : at which month the car was first registered

fuelType

brand

notRepairedDamage : if the car has a damage which is not repaired yet

dateCreated : the date for which the ad at ebay was created

nrOfPictures : number of pictures in the ad

postalCode

lastSeenOnline : when the crawler saw this ad last online

```{r echo=FALSE, message=FALSE, warning=FALSE, packages}
# Load all of the packages that you end up using
# in your analysis in this code chunk.

# Notice that the parameter "echo" was set to FALSE for this code chunk.
# This prevents the code from displaying in the knitted HTML output.
# You should set echo=FALSE for all code chunks in your file.





# load the ggplot graphics package and the others
library(ggplot2)
library(GGally)
library(scales)
library(memisc)
library(ggthemes)
library(RColorBrewer)
library(data.table)
library(lubridate)


```

```{r echo=FALSE, Load_the_Data}
# Load the Data
data<-read.csv("autos.csv")

str(data)


```


## Delete useless columns
```{r}
data$nrOfPictures <- NULL 
data$seller <- NULL
data$offerType <- NULL
data<-subset(data, powerPS<1000)
```




## Format time
```{r}
data$dateCrawled <- ymd_hms(data$dateCrawled)
data$dateCreated <- ymd_hms(data$dateCreated)
data$lastSeen <- ymd_hms(data$lastSeen)
```






```{r}
summary(data)
```


# Univariate Plots Section


### Price 


```{r}
summary(data$price)
```



<p>
as we can see there are a lot of outliers for example, there should not be any car for free and also the upper band is very high. So we need to clean some data.
<p/>
```{r}
data<-subset(data,price<100000)
data<-subset(data,price!=0)
```


```{r}
summary(data$price)
```
still for minimum price 1 is less but lest keep it. there might be a scrap.


```{r echo=FALSE, Univariate_Plots}
ggplot(aes(x=price),data=data)+
  geom_histogram()+
  labs(title='Price Diagram', y = 'number of cars', x='Price')
  

```
```{r}
ggplot(aes(x=price),data=data)+
  geom_histogram()+
  scale_y_log10()
```

### Year of Registration

```{r}
summary(data$yearOfRegistration)
```
also for this column max date can not be after 2016. this is which year data from. also first car ivented at 1885 (whick is still to less but), so there cannot be any thing before that year.

```{r}
data<-subset(data, yearOfRegistration<2016)
data<-subset(data, yearOfRegistration>1950)

```
after cleaning process:
```{r}
summary(data$yearOfRegistration)
```
lets create the histograms:
```{r}
ggplot(data=data,aes(x=yearOfRegistration))+
  geom_histogram()+
  labs(title='Year Of Registration', y = 'number of cars', x='Registration year')
  
```


```{r}
summary(data$vehicleType)
```
```{r}
ggplot(data=subset(data, vehicleType !="") , aes(x=vehicleType))+
  geom_histogram(stat = 'count')
```

I think it is stange that there are more limusine than the other kind of cars.


### Brand


```{r}
summary(data$brand)
```
```{r}
ggplot(data=data,aes(x=brand))+
  geom_histogram(bins = 50,stat='count')+
  theme(axis.text.x = element_text(angle = 90, hjust = 1))+
  labs(x='Brand of Car', y='number of car',title = 'Brad Diagram')
```
volkswagen looks like the most popular car in the market. lets check which kind of volkswagens are in market.

```{r}
ggplot(data=subset(data, brand=="volkswagen"),aes(model))+geom_histogram(stat = 'count')+
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```

## gear box


```{r}
summary(data$gearbox)
```
```{r}
gearbox_table<-table(subset(data, gearbox!="")$gearbox)

pie(gearbox_table)
```



# Bivariate Plots Section

```{r}
set.seed(20022012)
datas <- data[sample(1:length(data$price), 10000), ]
datas$name<-NULL
datas$model<-NULL
datas$dateCreated<-NULL
p_ <- GGally::print_if_interactive
pm<-ggpairs(datas,1:8, 
        lower = list(continuous = wrap("points", shape = I('.'))), 
        upper = list(combo = wrap("box", outlier.shape = I('.'))))
p_(pm)

```


```{r echo=FALSE, Bivariate_Plots}
ggplot(data=data,aes(x=yearOfRegistration, y=price))+
  geom_point(fill=I("#F79420"),color=I('black'),shape=21)+
  labs(title='Price & Registration Year')+
  geom_smooth()
```


```{r}
ggplot(data=subset(data,(powerPS!=0)&(powerPS<1000) ),aes(x=powerPS, y=price))+
  geom_point(fill=I("#F79420"),color=I('black'),shape=21)+
  labs(title='Price & PowerPW')+
  geom_smooth(method = 'lm')
```




# Bivariate Analysis

### Talk about some of the relationships you observed in this part of the investigation. How did the feature(s) of interest vary with other features in the dataset?

### Did you observe any interesting relationships between the other features (not the main feature(s) of interest)?

### What was the strongest relationship you found?




# Multivariate Plots Section

```{r echo=FALSE, Multivariate_Plots}

```

# Multivariate Analysis

### Talk about some of the relationships you observed in this part of the investigation. Were there features that strengthened each other in terms of looking at your feature(s) of interest?

### Were there any interesting or surprising interactions between features?

### OPTIONAL: Did you create any models with your dataset? Discuss the strengths and limitations of your model.

------

# Final Plots and Summary

### Plot One
```{r echo=FALSE, Plot_One}

```

### Description One


### Plot Two
```{r echo=FALSE, Plot_Two}

```

### Description Two


### Plot Three
```{r echo=FALSE, Plot_Three}

```

### Description Three

------

# Reflection
